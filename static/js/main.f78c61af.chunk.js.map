{"version":3,"sources":["components/Chat.js","components/Map.js","components/InfoFlights.js","App.js","index.js"],"names":["Chat","Socket","useState","userText","setUser","messageText","setMessage","chatText","setChat","useEffect","on","data","id","type","onChange","value","target","placeholder","onClick","emit","name","message","map","e","i","date","Map","latitude","longitude","width","height","zoom","viewport","setViewport","planeMarkers","setMarker","stop","marker","code","mapboxApiAccessToken","mapStyle","onViewportChange","plane","position","Flights","infoFlights","setInfo","console","log","App","io","path","className","InfoFlights","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f78c61af.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\n//import Socket from \"./Socket\";\n\n\nfunction Chat({Socket}) {\n    \n    const [userText, setUser] = useState(\"\");\n    const [messageText, setMessage] = useState(\"\");\n    const [chatText, setChat] = useState([]);\n\n    const onChangeTextUser = ({ target: { value } }) => {\n        setUser(value);\n      };\n\n    const onChangeTextMessage = ({ target: { value } }) => {\n        setMessage(value);\n      };\n\n    const onPressSend = () => {\n        Socket.emit(\"CHAT\", { name: userText, message: messageText });\n      };\n\n    useEffect (()=>{\n        Socket.on('CHAT', (data) => {\n            setChat([...chatText, data]);\n        })\n\n    }, [chatText, Socket]);\n\n    return (\n        <div id=\"container\">\n        <input type=\"text\" id=\"username\"  onChange={onChangeTextUser} value={userText} placeholder=\"Username\"></input>\n        <input type=\"text\" id=\"message\" onChange={onChangeTextMessage} value={messageText} placeholder=\"Message\"></input>\n        <button id=\"button-send\" onClick={onPressSend}> Enviar </button>\n        <div id=\"chat-window\">\n            {chatText.map((e,i) => <div key={i}> <b>{e.name}</b>:{e.message} - <i>date:{e.date} </i></div>)}\n        </div>\n\n        </div>\n)};\n\nexport default Chat;","\nimport React, {useState, useEffect} from 'react';\nimport ReactMapGL, {Marker} from 'react-map-gl';\n//import Socket from \"./Socket\";\n// Mapbox - Interactive maps in React video\n\nfunction Map({Socket}) {\n    const [viewport, setViewport] = useState({\n        latitude: -34.09,\n        longitude: -64.48,\n        width: '100%',\n        height: '550px',\n        zoom: 3\n    });\n\n    const [planeMarkers, setMarker] = useState([]);\n\n    useEffect (()=>{\n        Socket.on('POSITION', (data) => {\n            let stop = 0;\n            planeMarkers.map(function(marker) {\n                if (marker.code === data.code){\n                    stop=1;\n                };\n            })\n            if (stop === 0){setMarker([...planeMarkers, data])};\n\n        })\n\n    }, [planeMarkers, Socket]);\n\n    return (\n        <div id='container'>\n            <ReactMapGL \n                {...viewport} \n                mapboxApiAccessToken={\"pk.eyJ1IjoibWF4ZnJleW1vIiwiYSI6ImNrb3pzc25kNjBhdnQydnJ0MjVzcTB3NjgifQ.f7YLAg8k3UJlbEEHCVnPLA\"}\n                mapStyle=\"mapbox://styles/maxfreymo/ckp1zuj9735wz17qkb6lhfpnd\"\n                onViewportChange={viewport => {\n                    setViewport(viewport);\n                }}\n            > \n            {planeMarkers.map(plane => (\n                <Marker\n                    key={plane.code}\n                    latitude={plane.position[0]}\n                    longitude={plane.position[1]}\n                >\n                <button id='button-marker'> Plane </button>\n                </Marker>\n            ))}\n            </ReactMapGL>\n        </div>\n\n    )};\n\nexport default Map;","import React, {useState, useEffect} from 'react';\n//import Socket from \"./Socket\";\n\n\nfunction Flights({Socket}) {\n\n    const [infoFlights, setInfo] = useState([]);\n\n    const onPressSend = () => {\n        Socket.emit(\"FLIGHTS\");\n      };\n\n    useEffect (()=>{\n        Socket.on('FLIGHTS', (data) => {\n            console.log(data);\n            setInfo([infoFlights, data]);\n        })\n\n    }, [infoFlights, Socket]);\n\n    return (\n        <div id=\"container\"> \n            <button id=\"button-flight\" onClick={onPressSend}> Solicitar Vuelos </button>\n            <div id=\"info-flights\">\n                {infoFlights.map((e,i) => <div key={i}> <b>{e.plane}</b> </div>)}\n            </div>\n        </div>\n\n)};\n\nexport default Flights;","import './App.css';\n//import React, { useState, useEffect } from \"react\";\nimport Chat from \"./components/Chat\";\nimport Map from \"./components/Map\";\nimport InfoFlights from \"./components/InfoFlights\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport io from 'socket.io-client'\n\nfunction App() {\n\n  const Socket = io('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/',{\n      path: '/flights'\n    });\n\n  return (\n    <div>\n      <h1> Socket App </h1>\n        \n      <div className='grid'>\n        <Map Socket={Socket} />\n        <Chat Socket={Socket} />\n        <InfoFlights Socket={Socket} />\n      </div>\n\n    </div>\n\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}