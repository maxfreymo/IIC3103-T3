(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{65:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(58),o=n.n(a),j=(n(65),n(12)),s=n(3),r=n(4);var b=function(e){var t=e.Socket,n=Object(c.useState)(""),i=Object(s.a)(n,2),a=i[0],o=i[1],b=Object(c.useState)(""),d=Object(s.a)(b,2),u=d[0],l=d[1],O=Object(c.useState)([]),h=Object(s.a)(O,2),f=h[0],p=h[1];return Object(c.useEffect)((function(){t.on("CHAT",(function(e){p([].concat(Object(j.a)(f),[e]))}))}),[f,t]),Object(r.jsxs)("div",{id:"container",children:[Object(r.jsx)("input",{type:"text",id:"username",onChange:function(e){var t=e.target.value;o(t)},value:a,placeholder:"Username"}),Object(r.jsx)("input",{type:"text",id:"message",onChange:function(e){var t=e.target.value;l(t)},value:u,placeholder:"Message"}),Object(r.jsx)("button",{id:"button-send",onClick:function(){t.emit("CHAT",{name:a,message:u})},children:" Enviar "}),Object(r.jsx)("div",{id:"chat-window",children:f.map((function(e,t){return Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("b",{children:e.name}),":",e.message," - ",Object(r.jsxs)("i",{children:["date:",e.date," "]})]},t)}))})]})},d=n(33),u=n(34);var l=function(e){var t=e.Socket,n=Object(c.useState)({latitude:-34.09,longitude:-64.48,width:"100%",height:"550px",zoom:3}),i=Object(s.a)(n,2),a=i[0],o=i[1],b=Object(c.useState)([]),l=Object(s.a)(b,2),O=l[0],h=l[1];return Object(c.useEffect)((function(){t.on("POSITION",(function(e){var t=0;O.map((function(n){n.code===e.code&&(t=1)})),0===t&&h([].concat(Object(j.a)(O),[e]))}))}),[O,t]),Object(r.jsx)("div",{id:"container",children:Object(r.jsx)(u.b,Object(d.a)(Object(d.a)({},a),{},{mapboxApiAccessToken:"pk.eyJ1IjoibWF4ZnJleW1vIiwiYSI6ImNrb3pzc25kNjBhdnQydnJ0MjVzcTB3NjgifQ.f7YLAg8k3UJlbEEHCVnPLA",mapStyle:"mapbox://styles/maxfreymo/ckp1zuj9735wz17qkb6lhfpnd",onViewportChange:function(e){o(e)},children:O.map((function(e){return Object(r.jsx)(u.a,{latitude:e.position[0],longitude:e.position[1],children:Object(r.jsx)("button",{id:"button-marker",children:" Plane "})},e.code)}))}))})};var O=function(e){var t=e.Socket,n=Object(c.useState)([]),i=Object(s.a)(n,2),a=i[0],o=i[1];return Object(c.useEffect)((function(){t.on("FLIGHTS",(function(e){console.log(e),o([a,e])}))}),[a,t]),Object(r.jsxs)("div",{id:"container",children:[Object(r.jsx)("button",{id:"button-flight",onClick:function(){t.emit("FLIGHTS")},children:" Solicitar Vuelos "}),Object(r.jsx)("div",{id:"info-flights",children:a.map((function(e,t){return Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("b",{children:e.plane})," "]},t)}))})]})},h=(n(79),n(60)),f=n.n(h);var p=function(){var e=f()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"});return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:" Socket App "}),Object(r.jsxs)("div",{className:"grid",children:[Object(r.jsx)(l,{Socket:e}),Object(r.jsx)(b,{Socket:e}),Object(r.jsx)(O,{Socket:e})]})]})};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.f78c61af.chunk.js.map